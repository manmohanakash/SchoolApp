CREATE TABLE user(
UserID INT UNSIGNED  NOT NULL AUTO_INCREMENT,
UserName VARCHAR(50) UNIQUE NOT NULL ,
FirstName VARCHAR(50) NOT NULL,
LastName VARCHAR(50) NOT NULL,
Email VARCHAR(50) UNIQUE,
Password VARCHAR(15) NOT NULL,
UserType VARCHAR(20) NOT NULL,
AccountStatus VARCHAR(20) NOT NULL,
LastLogin DATETIME,
PRIMARY KEY (UserID));


CREATE TABLE address(
AddressID INT UNSIGNED NOT NULL AUTO_INCREMENT,
AddressType VARCHAR(10),
Address
Door VARCHAR(20) NOT NULL,
Street VARCHAR(20) NOT NULL,
City VARCHAR(20) NOT NULL,
State VARCHAR(20) NOT NULL,
Country VARCHAR(20) NOT NULL,
AddressAdded DATETIME,
AddressRemoved DATETIME,
Status VARCHAR(10),
PRIMARY KEY (AddressID));


CREATE TABLE phone(
PhoneID INT UNSIGNED NOT NULL AUTO_INCREMENT,
PhoneFor VARCHAR(20) NOT NULL,
PhoneForID INT(20) NOT NULL,
PhoneNumber VARCHAR(20) NOT NULL,
PhoneStatus VARCHAR(10) NOT NULL,
PhoneTime DATETIME,
PRIMARY KEY (PhoneID));


CREATE TABLE student(
StudentID INT UNSIGNED NOT NULL AUTO_INCREMENT,
FirstName VARCHAR(20) NOT NULL,
MiddleName VARCHAR(20) DEFAULT NULL,
LastName VARCHAR(20) NOT NULL,
BirthDate DATE DEFAULT NULL, 
BloodType VARCHAR(5) DEFAULT NULL,
Sex ENUM('M','F') DEFAULT NULL,
CurrentAddressID INT UNSIGNED DEFAULT NULL,
CurrentPhoneID INT UNSIGNED DEFAULT NULL,
Class VARCHAR(5) DEFAULT NULL,
Section VARCHAR(20) DEFAULT NULL,
PRIMARY KEY (StudentID),
ADD CONSTRAINT fk_address FOREIGN KEY (CurrentAddressID) REFERENCES address(AddressID) ON DELETE SET NULL ON UPDATE CASCADE,
CONSTRAINT fk_phone FOREIGN KEY (CurrentPhoneID) REFERENCES phone(PhoneID) ON DELETE SET NULL ON UPDATE CASCADE);


CREATE TABLE staff(
StaffID INT UNSIGNED NOT NULL AUTO_INCREMENT,
FirstName VARCHAR(20),
MiddleName VARCHAR(20),
LastName VARCHAR(20),
CurrentAddressID INT UNSIGNED,
CurrentPhoneID INT UNSIGNED,
SSN VARCHAR(10) UNIQUE,
BirthDate date NOT NULL, 
Sex ENUM('M','F'),
Salary INT UNSIGNED,
PRIMARY KEY (StaffID),
CONSTRAINT fk_staff_address FOREIGN KEY (CurrentAddressID) REFERENCES address(AddressID) ON DELETE SET NULL ON UPDATE CASCADE,
CONSTRAINT fk_staff_phone FOREIGN KEY (CurrentPhoneID) REFERENCES phone(PhoneID) ON DELETE SET NULL); 


CREATE TABLE admission(
AdmissionID INT UNSIGNED NOT NULL AUTO_INCREMENT,
StudentID INT UNSIGNED,
AdmissionDate DATE,
AdmissionTime TIME,
AdmissionType VARCHAR(20),
PRIMARY KEY (AdmissionID),
CONSTRAINT fk_Student FOREIGN KEY (StudentID) REFERENCES student(StudentID) ON DELETE CASCADE ON UPDATE CASCADE);



CREATE TABLE announcements(
AnnouncementID  INT UNSIGNED NOT NULL AUTO_INCREMENT,
Announcement VARCHAR(2000) NOT NULL,
AnnouncementTime DATETIME,
Class VARCHAR(5),
Section VARCHAR(20),
PRIMARY KEY (AnnouncementID));
